<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pesan Kamar Ambreen Hotel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
        }
        .form-section {
            background-color: #ffffff;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            margin: 20px auto;
            max-width: 1000px;
        }
        .form-title {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }
        .btn-custom {
            background-color: #28a745;
            color: white;
        }
        .btn-secondary {
            background-color: #dc3545;
            color: white;
        }
        .summary {
            display: none;
            margin-top: 20px;
            background-color: #e9ecef;
            padding: 15px;
            border-radius: 5px;
        }
        .form-label {
            font-weight: bold;
        }
        .form-control, .form-select {
            border-radius: 5px;
        }
        .gender-options {
            display: flex;
            align-items: center;
        }
        .gender-options div {
            margin-right: 20px;
        }
        .navbar {
            background-color: rgba(0, 0, 0, 0.8);
            margin: 0;
            padding: 0.5rem 1rem;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: rgba(0, 0, 0, 0.8);">
        <div class="container-fluid">
            <a class="navbar-brand" href="konsumen_dashboard.html">Ambreen Hotel</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="konsumen_dashboard.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="kamar.html">Kamar</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="fasilitas.html">Fasilitas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="pesan.html">Pesan</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn btn-danger btn-sm text-white" href="login.html">Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Form Pemesanan -->
    <div class="container mt-5">
        <h1 class="form-title">Form Pemesanan</h1>
        <div class="form-section">
            <form id="reservationForm">
                <div class="mb-3">
                    <label for="id-pemesan" class="form-label">ID Pemesan</label>
                    <input type="text" class="form-control" id="id-pemesan" required>
                </div>
                <div class="mb-3">
                    <label for="nama" class="form-label">Nama Pemesan</label>
                    <input type="text" class="form-control" id="nama" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Jenis Kelamin</label>
                    <div class="gender-options">
                        <div>
                            <input type="radio" id="laki-laki" name="jenis-kelamin" value="laki-laki" required>
                            <label for="laki-laki">Laki-Laki</label>
                        </div>
                        <div>
                            <input type="radio" id="perempuan" name="jenis-kelamin" value="perempuan" required>
                            <label for="perempuan">Perempuan</label>
                        </div>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="nomor-identitas" class="form-label">Nomor Identitas</label>
                    <input type="text" class="form-control" id="nomor-identitas" required>
                    <div id="identitas-error" class="text-danger" style="display: none;">Isian harus 16 digit</div>
                </div>
                <div class="mb-3">
                    <label for="tipe-kamar" class="form-label">Tipe Kamar</label>
                    <select class="form-select" id="tipe-kamar" required onchange="updateHarga()">
                        <option value="" disabled selected>Pilih...</option>
                        <option value="standar">Standar</option>
                        <option value="deluxe">Deluxe</option>
                        <option value="family">Family</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="harga-kamar" class="form-label">Harga Kamar</label>
                    <input type="text" class="form-control" id="harga-kamar" readonly>
                </div>
                <div class="mb-3">
                    <label for="tanggal-pesan" class="form-label">Tanggal Pesan</label>
                    <input type="date" class="form-control" id="tanggal-pesan" required>
                </div>
                <div class="mb-3">
                    <label for="durasi-menginap" class="form-label">Durasi Menginap</label>
                    <input type="number" class="form-control" id="durasi-menginap" placeholder="Hari" required>
                    <div id="durasi-error" class="text-danger" style="display: none;">Isian harus berupa angka</div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Termasuk Breakfast</label>
                    <div>
                        <input type="checkbox" id="breakfast" value="yes">
                        <label for="breakfast">Ya</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="total-bayar" class="form-label">Total Bayar</label>
                    <input type="text" class="form-control" id="total-bayar" readonly>
                </div>
                <button type="submit" class="btn btn-custom">Simpan</button>
                <button type="reset" class="btn btn-secondary">Batal</button>
            </form>
        </div>

        <div class="summary" id="summary">
            <h3>Ringkasan Pemesanan</h3>
            <p><strong>ID Pemesan:</strong> <span id="summary-id-pemesan"></span></p>
            <p><strong>Nama Pemesan:</strong> <span id="summary-nama"></span></p>
            <p><strong>Jenis Kelamin:</strong> <span id="summary-jenis-kelamin"></span></p>
            <p><strong>Nomor Identitas:</strong> <span id="summary-nomor-identitas"></span></p>
            <p><strong>Tipe Kamar:</strong> <span id="summary-tipe-kamar"></span></p>
            <p><strong>Tanggal Pesan:</strong> <span id="summary-tanggal-pesan"></span></p>
            <p><strong>Durasi Menginap:</strong> <span id="summary-durasi-menginap"></span> Hari</p>
            <p><strong>Termasuk Breakfast:</strong> <span id="summary-breakfast"></span></p>
            <p><strong>Total Bayar:</strong> <span id="summary-total-bayar"></span></p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function updateHarga() {
            const tipeKamar = document.getElementById('tipe-kamar').value;
            let hargaPerMalam;

            switch (tipeKamar) {
                case 'standar':
                    hargaPerMalam = 500000; 
                    break;
                case 'deluxe':
                    hargaPerMalam = 750000; 
                    break;
                case 'family':
                    hargaPerMalam = 1000000; 
                    break;
                default:
                    hargaPerMalam = 0;
            }

            document.getElementById('harga-kamar').value = `Rp ${hargaPerMalam.toLocaleString()}`;
        }

        document.getElementById('reservationForm').addEventListener('submit', function(event) {
            event.preventDefault();
            
            const idPemesan = document.getElementById('id-pemesan').value;
            const nama = document.getElementById('nama').value;
            const jenisKelamin = document.querySelector('input[name="jenis-kelamin"]:checked').value;
            const nomorIdentitas = document.getElementById('nomor-identitas').value;
            const tipeKamar = document.getElementById('tipe-kamar').value;
            const tanggalPesan = document.getElementById('tanggal-pesan').value;
            const durasiMenginap = document.getElementById('durasi-menginap').value;
            const breakfast = document.getElementById('breakfast').checked ? "Ya" : "Tidak";

            // Validasi Nomor Identitas
            if (nomorIdentitas.length !== 16) {
                document.getElementById('identitas-error').style.display = 'block';
                return;
            } else {
                document.getElementById('identitas-error').style.display = 'none';
            }

            // Validasi Durasi Menginap
            if (isNaN(durasiMenginap) || durasiMenginap <= 0) {
                document.getElementById('durasi-error').style.display = 'block';
                return;
            } else {
                document.getElementById('durasi-error').style.display = 'none';
            }

            // Menentukan harga kamar
            let hargaPerMalam;
            switch (tipeKamar) {
                case 'standar':
                    hargaPerMalam = 500000; 
                    break;
                case 'deluxe':
                    hargaPerMalam = 750000; 
                    break;
                case 'family':
                    hargaPerMalam = 1000000; 
                    break;
                default:
                    hargaPerMalam = 0;
            }

            // Menghitung total bayar
            let totalBayar = hargaPerMalam * durasiMenginap;
            if (durasiMenginap > 3) {
                totalBayar -= totalBayar * 0.1; // Diskon 10%
            }
            if (breakfast === "Ya") {
                totalBayar += 80000; // Tambahan biaya breakfast
            }

            // Mengisi ringkasan
            document.getElementById('summary-id-pemesan').innerText = idPemesan;
            document.getElementById('summary-nama').innerText = nama;
            document.getElementById('summary-jenis-kelamin').innerText = jenisKelamin;
            document.getElementById('summary-nomor-identitas').innerText = nomorIdentitas;
            document.getElementById('summary-tipe-kamar').innerText = tipeKamar;
            document.getElementById('summary-tanggal-pesan').innerText = tanggalPesan;
            document.getElementById('summary-durasi-menginap').innerText = durasiMenginap;
            document.getElementById('summary-breakfast').innerText = breakfast;
            document.getElementById('summary-total-bayar').innerText = `Rp ${totalBayar.toLocaleString()}`;

            document.getElementById('summary').style.display = 'block';
            document.getElementById('total-bayar').value = `Rp ${totalBayar.toLocaleString()}`;
        });
    </script>
</body>
</html>
